import{C as D}from"./VistaUno-C3G2XSjO.js";import{c as I,F as N,s as T}from"./SweetAlets-C2ytclc0.js";import{d as E,r as s,g as w,o as y,w as M,E as B,c as k,e as g,b as e,a2 as R,v as U,f as l,F as S,t as C,i as $,Y as L,n as F}from"./index-BEYR6r14.js";import{V as H}from"./VCard-mm81YS6r.js";import{V as O,a as x,b as W,c as V}from"./VTabs-DRn_69He.js";import{V as j}from"./VCardText-DFD8YH3h.js";import{V as q}from"./VCheckbox-BA2f-x8m.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VSwitch-BMm_pIP0.js";import"./VTextField-CPzAzZfc.js";import"./VImg-Db1A5QJS.js";import"./forwardRefs-DWGaNmQL.js";import"./VList-BdLefDIT.js";import"./VAvatar-CUK3t8xE.js";import"./VDivider-CPGcJI06.js";import"./VOverlay-bF5JR8ax.js";import"./VMenu-HY4Pdhf6.js";import"./VCheckboxBtn-Ds5GB1MQ.js";import"./VChip-otdAO30t.js";import"./VDialog-G37nOe5m.js";const Y=E({__name:"CompaniasProductos",props:{data:{}},setup(h){const i=h,d=s("Productos"),b=s(!1),n=s(null),m=s({compania_id:i.data.id}),r=[{label:"Ramo",type:"select",model:"ramo",catalogo:"ramosByCompania",payload:{compania_id:i.data.id}},{label:"Nombre",type:"text",model:"nombre"},{label:"Estatus",type:"switch",model:"estatus"}],f=[{title:"ID",key:"id"},{title:"Nombre",key:"nombre"},{title:"ramo",key:"ramo.label"},{title:"Estatus",key:"estatus"},{title:"Creación",key:"created_at"}],c={fetch:"/api/companias/productos/get",create:"/api/companias/productos",update:"/api/companias/productos",delete:"/api/companias/productos/delete"},p=a=>{n.value={...a},b.value=!0},_=a=>{console.log("handleActionCreate ",a)},v=a=>{console.log("handleActionDelete",a)};return(a,o)=>(y(),w(D,{title:d.value,formModal:!0,formSchema:r,payloadDefault:m.value,tableHeaders:f,apiEndpoints:c,onCustomCreate:_,onCustomEdit:p,onCustomDelete:v},null,8,["title","payloadDefault"]))}}),G=E({__name:"CompaniasRepresentantesV1",props:{data:{}},setup(h){const i=h,d=s("Representantes"),b=s(!1),n=s(null),m=s({compania_id:i.data.id}),r=[{label:"Nombre",type:"text",model:"nombre",placeholder:"Ingresa el nombre"},{label:"Telefono",type:"text",model:"telefono",placeholder:"Ingresa el nombre"},{label:"Correo electronico",type:"text",model:"correo",placeholder:"Ingresa el nombre"},{label:"Cargo",type:"text",model:"cargo",placeholder:"Ingresa el nombre"},{label:"Estatus",type:"switch",model:"estatus"}],f=[{title:"ID",key:"id"},{title:"Nombre",key:"nombre"},{title:"Cargo",key:"cargo"},{title:"Estatus",key:"estatus"},{title:"Creación",key:"created_at"}],c={fetch:"/api/companias/representantes/get",create:"/api/companias/representantes",update:"/api/companias/representantes",delete:"/api/companias/representantes/delete"},p=a=>{n.value={...a},b.value=!0},_=a=>{console.log("handleActionCreate ",a)},v=a=>{console.log("handleActionDelete",a)};return(a,o)=>(y(),w(D,{title:d.value,formModal:!0,formSchema:r,payloadDefault:m.value,tableHeaders:f,apiEndpoints:c,onCustomCreate:_,onCustomEdit:p,onCustomDelete:v},null,8,["title","payloadDefault"]))}}),J={class:"d-flex justify-start align-center mb-5"},K={class:"ml-4"},Q={class:"cardsWrapper"},X=["onClick"],Z={class:"d-flex justify-end align-center mt-4"},ee=E({__name:"CompaniasFormEdit",props:{data:{}},emits:["atras"],setup(h,{emit:i}){const d=h,b=i,n=s([]),m=s("tab1"),r=s(d.data),f=[{label:"Nombre corto",type:"text",model:"nombreCorto",placeholder:"Ingresa el nombre"},{label:"Nombre",type:"text",model:"nombre",placeholder:"Ingresa el nombre"},{label:"RFC",type:"text",model:"rfc",placeholder:"Ingresa el nombre"},{label:"Direcciòn",type:"text",model:"direccion",placeholder:"Ingresa el nombre"},{label:"Colonia",type:"text",model:"colonia",placeholder:"Ingresa el nombre"},{label:"Codigo Postal",type:"text",model:"codigoPostal",placeholder:"Ingresa el nombre"},{label:"Estado",type:"text",model:"estado",placeholder:"Ingresa el nombre"},{label:"Ciudad",type:"text",model:"ciudad",placeholder:"Ingresa el nombre"},{label:"Limite Primer pago",type:"text",model:"limitePrimerPago",placeholder:"Ingresa el nombre"},{label:"Limite Primer Subsecuente",type:"text",model:"limitePrimerSubsecuente",placeholder:"Ingresa el nombre"},{label:"Estatus",type:"switch",model:"estatus"}],c=()=>{b("atras")},p=o=>{console.log("handleSelectRamo",o),o.isActivo=!o.isActivo,n.value=[...n.value],console.log("handleSelectRamo",n.value)},_=async o=>{let t=await I({url:"/api/companias/update",method:"POST",data:{...o}});console.log("handleFormSubmit",t),T({})},v=async()=>{let o=await I({url:"/api/companias/ramos",method:"POST",data:{compania_id:r.value.id}});console.log("getRamos",o),n.value=o.data.data},a=async()=>{let o=await I({url:"/api/companias/ramos/update",method:"POST",data:{compania_id:r.value.id,ramos:n.value}});console.log("getRamos",o)};return M(()=>d.data,o=>{r.value=o}),B(()=>{v(),console.log("onMounted",d.data)}),(o,t)=>(y(),k(S,null,[g("div",J,[e(R,{icon:"tabler-arrow-left",class:"cursor-pointer",variant:"text",color:"secondary",onClick:c}),g("h1",K,U(d.data.nombre),1)]),e(H,null,{default:l(()=>[e(O,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=u=>m.value=u)},{default:l(()=>[e(x,null,{default:l(()=>t[2]||(t[2]=[C("Detalles")])),_:1}),e(x,null,{default:l(()=>t[3]||(t[3]=[C("Representantes")])),_:1}),e(x,null,{default:l(()=>t[4]||(t[4]=[C("Ramos")])),_:1}),e(x,null,{default:l(()=>t[5]||(t[5]=[C("Productos")])),_:1})]),_:1},8,["modelValue"]),e(j,null,{default:l(()=>[e(W,{modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=u=>m.value=u)},{default:l(()=>[e(V,{value:"tab1"},{default:l(()=>[e(N,{ref:"formFactoryRef",schema:f,modelValue:r.value,isDialogVisible:!1,onSubmit:_,onCancel:c},null,8,["modelValue"])]),_:1}),e(V,{value:"tab2"},{default:l(()=>[e(G,{data:r.value},null,8,["data"])]),_:1}),e(V,{value:"tab3"},{default:l(()=>[t[7]||(t[7]=g("h1",{class:"ml-4"},"Ramos activos",-1)),g("div",Q,[(y(!0),k(S,null,$([...n.value],(u,P)=>(y(),k("div",{key:P,class:"cardItem",onClick:A=>p(u)},[e(q,{modelValue:u.isActivo,"onUpdate:modelValue":A=>u.isActivo=A,label:u.label},null,8,["modelValue","onUpdate:modelValue","label"])],8,X))),128))]),g("div",Z,[e(R,{color:"warning",onClick:a},{default:l(()=>[e(L,{start:"",icon:"tabler-edit"}),t[6]||(t[6]=C(" actualizar "))]),_:1})])]),_:1}),e(V,{value:"tab4"},{default:l(()=>[e(Y,{data:r.value},null,8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64))}}),te=z(ee,[["__scopeId","data-v-a1892cd4"]]),ae={key:1},Ve=E({__name:"companias",setup(h){const i=s(!1),d=s(null),b=[{label:"RFC",type:"text",model:"rfc",placeholder:"Ingresa el nombre"},{label:"Nombre corto",type:"text",model:"nombreCorto",placeholder:"Ingresa el nombre"},{label:"Nombre",type:"text",model:"nombre",placeholder:"Ingresa el nombre"},{label:"Estatus",type:"switch",model:"estatus"}],n=[{title:"ID",key:"id"},{title:"Nombre corto",key:"nombreCorto"},{title:"Estatus",key:"estatus"},{title:"Creación",key:"created_at"}],m={fetch:"/api/companias/get",create:"/api/companias/create",update:"/api/companias/update",delete:"/api/companias/delete"},r=c=>{d.value={...c},i.value=!0},f=()=>{i.value=!1};return(c,p)=>F(i)?(y(),w(te,{key:0,data:F(d),onAtras:f},null,8,["data"])):(y(),k("div",ae,[p[0]||(p[0]=g("h1",null,"Compañias",-1)),e(D,{title:`
      Compañias`,emitEdit:!0,formModal:!0,"show-title":!1,formSchema:b,tableHeaders:n,apiEndpoints:m,onCustomEdit:r})]))}});export{Ve as default};
