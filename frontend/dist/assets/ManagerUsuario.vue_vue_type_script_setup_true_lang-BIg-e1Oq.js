import{c as se,_ as F}from"./SweetAlets-C2ytclc0.js";import{C as G}from"./VistaUno-C3G2XSjO.js";import{a7 as B,a8 as U,O as H,a9 as M,b as a,bc as ne,ab as L,I as Y,J as ie,bd as re,ac as q,a_ as de,W as k,aA as ue,aY as J,Y as T,b0 as ce,am as O,be as pe,aO as me,ad as ve,aa as X,ak as be,bf as fe,aV as xe,M as ye,bg as ge,aM as Ce,aT as Ve,X as g,aj as _e,bh as he,bi as ke,d as S,r as b,g as A,o as y,E as Ee,f as d,c as _,F as D,i as z,e as E,v as N,a2 as w,t as V,m as K,n as Ie}from"./index-BEYR6r14.js";import{c as Pe,d as we}from"./VOverlay-bF5JR8ax.js";import{V as W}from"./VCheckbox-BA2f-x8m.js";import{_ as Se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as Q}from"./VCard-mm81YS6r.js";import{V as Z,a as I,b as ee,c as P}from"./VTabs-DRn_69He.js";import{V as ae}from"./VCardText-DFD8YH3h.js";const $=Symbol.for("vuetify:v-expansion-panel"),le=U({...L(),...we()},"VExpansionPanelText"),R=B()({name:"VExpansionPanelText",props:le(),setup(e,f){let{slots:o}=f;const l=H($);if(!l)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:r,onAfterLeave:i}=Pe(e,l.isSelected);return M(()=>a(ne,{onAfterLeave:i},{default:()=>{var s;return[Y(a("div",{class:["v-expansion-panel-text",e.class],style:e.style},[o.default&&r.value&&a("div",{class:"v-expansion-panel-text__wrapper"},[(s=o.default)==null?void 0:s.call(o)])]),[[ie,l.isSelected.value]])]}})),{}}}),te=U({color:String,expandIcon:{type:O,default:"$expand"},collapseIcon:{type:O,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...L(),...ce()},"VExpansionPanelTitle"),j=B()({name:"VExpansionPanelTitle",directives:{Ripple:re},props:te(),setup(e,f){let{slots:o}=f;const l=H($);if(!l)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:r,backgroundColorStyles:i}=q(e,"color"),{dimensionStyles:s}=de(e),c=k(()=>({collapseIcon:e.collapseIcon,disabled:l.disabled.value,expanded:l.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),x=k(()=>l.isSelected.value?e.collapseIcon:e.expandIcon);return M(()=>{var p;return Y(a("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":l.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},r.value,e.class],style:[i.value,s.value,e.style],type:"button",tabindex:l.disabled.value?-1:void 0,disabled:l.disabled.value,"aria-expanded":l.isSelected.value,onClick:e.readonly?void 0:l.toggle},[a("span",{class:"v-expansion-panel-title__overlay"},null),(p=o.default)==null?void 0:p.call(o,c.value),!e.hideActions&&a(J,{defaults:{VIcon:{icon:x.value}}},{default:()=>{var m;return[a("span",{class:"v-expansion-panel-title__icon"},[((m=o.actions)==null?void 0:m.call(o,c.value))??a(T,null,null)])]}})]),[[ue("ripple"),e.ripple]])}),{}}}),oe=U({title:String,text:String,bgColor:String,...xe(),...fe(),...be(),...X(),...te(),...le()},"VExpansionPanel"),De=B()({name:"VExpansionPanel",props:oe(),emits:{"group:selected":e=>!0},setup(e,f){let{slots:o}=f;const l=pe(e,$),{backgroundColorClasses:r,backgroundColorStyles:i}=q(e,"bgColor"),{elevationClasses:s}=me(e),{roundedClasses:c}=ve(e),x=k(()=>(l==null?void 0:l.disabled.value)||e.disabled),p=k(()=>l.group.items.value.reduce((n,v,t)=>(l.group.selected.value.includes(v.id)&&n.push(t),n),[])),m=k(()=>{const n=l.group.items.value.findIndex(v=>v.id===l.id);return!l.isSelected.value&&p.value.some(v=>v-n===1)}),u=k(()=>{const n=l.group.items.value.findIndex(v=>v.id===l.id);return!l.isSelected.value&&p.value.some(v=>v-n===-1)});return ye($,l),M(()=>{const n=!!(o.text||e.text),v=!!(o.title||e.title),t=j.filterProps(e),C=R.filterProps(e);return a(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":l.isSelected.value,"v-expansion-panel--before-active":m.value,"v-expansion-panel--after-active":u.value,"v-expansion-panel--disabled":x.value},c.value,r.value,e.class],style:[i.value,e.style]},{default:()=>[a("div",{class:["v-expansion-panel__shadow",...s.value]},null),a(J,{defaults:{VExpansionPanelTitle:{...t},VExpansionPanelText:{...C}}},{default:()=>{var h;return[v&&a(j,{key:"title"},{default:()=>[o.title?o.title():e.title]}),n&&a(R,{key:"text"},{default:()=>[o.text?o.text():e.text]}),(h=o.default)==null?void 0:h.call(o)]}})]})}),{groupItem:l}}}),Te=["default","accordion","inset","popout"],Ae=U({flat:Boolean,...ke(),...he(oe(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),..._e(),...L(),...X(),variant:{type:String,default:"default",validator:e=>Te.includes(e)}},"VExpansionPanels"),$e=B()({name:"VExpansionPanels",props:Ae(),emits:{"update:modelValue":e=>!0},setup(e,f){let{slots:o}=f;const{next:l,prev:r}=ge(e,$),{themeClasses:i}=Ce(e),s=k(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return Ve({VExpansionPanel:{bgColor:g(e,"bgColor"),collapseIcon:g(e,"collapseIcon"),color:g(e,"color"),eager:g(e,"eager"),elevation:g(e,"elevation"),expandIcon:g(e,"expandIcon"),focusable:g(e,"focusable"),hideActions:g(e,"hideActions"),readonly:g(e,"readonly"),ripple:g(e,"ripple"),rounded:g(e,"rounded"),static:g(e,"static")}}),M(()=>a(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},i.value,s.value,e.class],style:e.style},{default:()=>{var c;return[(c=o.default)==null?void 0:c.call(o,{prev:r,next:l})]}})),{next:l,prev:r}}}),Be=S({__name:"UsuarioClavesV1",props:{data:{}},setup(e){const f=e,o=b("Claves de compañias"),l=b(!1),r=b(null),i=b({usuario_id:f.data.id}),s=[{label:"Clave",model:"clave",type:"text",placeholder:"Ingresa la clave del agente"},{label:"Compañia",model:"compania",type:"select",placeholder:"Selecciona una compañia",catalogo:"companias",config:{label:"nombreCorto"}},{label:"Estatus",model:"estatus",type:"switch"}],c=[{title:"ID",key:"id"},{title:"Clave Agente",key:"clave"},{title:"Compañia",key:"compania.nombreCorto"},{title:"Estatus",key:"estatus"},{title:"Creación",key:"created_at"}],x={fetch:"/api/usuario/claves/get",create:"/api/usuario/claves",update:"/api/usuario/claves",delete:"/api/usuario/claves/delete"},p=n=>{r.value={...n},l.value=!0},m=n=>{console.log("handleActionCreate ",n)},u=n=>{console.log("handleActionDelete",n)};return(n,v)=>(y(),A(G,{title:o.value,formModal:!0,formSchema:s,payloadDefault:i.value,tableHeaders:c,apiEndpoints:x,onCustomCreate:m,onCustomEdit:p,onCustomDelete:u},null,8,["title","payloadDefault"]))}}),Ue={class:"cardsWrapper"},Me=S({__name:"UsuarioCompanias",setup(e){const f=b(null),o=b([{label:"cotizar",slug:"Cotizar",permiso:!1},{label:"Registrar Polizas",slug:"registrar_polizas",permiso:!1},{label:"Editar Polizas",slug:"editar_polizas",permiso:!1},{label:"Cancelar Polizas",slug:"cancelar_polizas",permiso:!1},{label:"Registrar Pagos",slug:"registrar_pagos",permiso:!1},{label:"Cancelar Pagos",slug:"cancelar_pagos",permiso:!1},{label:"Registrar endosos",slug:"registrar_endosos",permiso:!1}]);function l(i){const s=i.estatus===1||i.estatus===!0;i.permisos.forEach(c=>{c.permiso=s})}async function r(){try{let i="/api/usuario/claves/get";if(i!=""){let x=(await se({url:i,method:"POST",data:{usuario_id:5}})).data.data;x=x.map(m=>{let u={...m,...m.compania};return u.permisos=o.value.map(n=>({...n})),delete u.compania,delete u.created_at,delete u.updated_at,u});const p=x.reduce((m,u)=>{const n=u.compania_id;return m[n]||(m[n]=[]),m[n].push(u),m},{});f.value=p}}catch(i){console.error("Error al obtener los datos:",i)}}return Ee(()=>{r()}),(i,s)=>(y(),A($e,{multiple:""},{default:d(()=>[(y(!0),_(D,null,z(f.value,(c,x)=>(y(),A(De,{key:x},{default:d(()=>[a(j,null,{default:d(()=>[E("strong",null,N(c[0].nombreCorto),1)]),_:2},1024),a(R,null,{default:d(()=>[E("div",Ue,[(y(!0),_(D,null,z([...c],(p,m)=>(y(),_("div",{key:m,class:"cardItem"},[a(W,{modelValue:p.estatus,"onUpdate:modelValue":u=>p.estatus=u,label:p.clave,onChange:u=>l(p)},null,8,["modelValue","onUpdate:modelValue","label","onChange"]),E("div",null,[(y(!0),_(D,null,z(p.permisos,(u,n)=>(y(),_("div",{key:n,class:"ml-4"},[a(W,{modelValue:u.permiso,"onUpdate:modelValue":v=>u.permiso=v,label:u.label,disabled:p.estatus==0},null,8,["modelValue","onUpdate:modelValue","label","disabled"])]))),128))])]))),128))])]),_:2},1024)]),_:2},1024))),128))]),_:1}))}}),Ne=Se(Me,[["__scopeId","data-v-84ac5713"]]),ze={class:"d-flex justify-start align-center mb-2"},Fe={class:"ml-4"},Re={key:0,class:"d-flex justify-end gap-3 mt-4"},je=S({__name:"ManagerUsuarioV2",props:{data:{},title:{default:null},isChild:{type:Boolean,default:!1}},emits:["cancelar"],setup(e,{emit:f}){const o=b("item1"),l=b(!1),r=b(!0),i=b({}),s=e,c=f,x=[{label:"Nombre",type:"text",model:"nombre",placeholder:"Ingresa el nombre"},{label:"Correo electronico",type:"text",model:"correo",placeholder:"Ingresa el nombre"},{label:"Tipo de usuario",type:"select",model:"tipo",placeholder:"Selecciona el tipo de usuario",catalogo:"tipos-usuarios"},{label:"Estatus",type:"switch",model:"estatus"}],p=[{label:"Nombre",type:"text",model:"nombre",placeholder:"Ingresa el nombre",disabled:!0},{label:"Tipo de usuario",type:"text",model:"tipo",placeholder:"Ingresa el nombre",disabled:!0},{label:"Correo electronico",type:"text",model:"correo",placeholder:"Ingresa el nombre",disabled:!0},{label:"Contraseña",type:"text",model:"password",placeholder:"Ingresa el nombre"}],m=()=>{i.value={...s.data,tipo:s.data.tipo.label,password:""},l.value=!0},u=()=>{r.value=!r.value},n=()=>{c("cancelar")};return(v,t)=>{const C=F;return y(),_(D,null,[E("div",ze,[a(w,{icon:"tabler-arrow-left",class:"cursor-pointer",variant:"text",color:"secondary",onClick:n}),E("h2",Fe,N(s.title),1)]),a(Q,null,{default:d(()=>[a(Z,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=h=>o.value=h)},{default:d(()=>[a(I,null,{default:d(()=>t[5]||(t[5]=[V("Detalles del usario")])),_:1}),a(I,null,{default:d(()=>t[6]||(t[6]=[V("Claves")])),_:1})]),_:1},8,["modelValue"]),a(ae,null,{default:d(()=>[a(ee,{modelValue:o.value,"onUpdate:modelValue":t[4]||(t[4]=h=>o.value=h)},{default:d(()=>[a(P,{value:"item1"},{default:d(()=>[a(C,{title:null,isDialogVisible:!1,schema:x,showTitle:!1,isDisabled:r.value,showButtonsAction:!r.value,modelValue:s.data,onCancel:t[1]||(t[1]=h=>r.value=!0)},null,8,["isDisabled","showButtonsAction","modelValue"]),a(C,{title:"Cambiar contraseña",isDialogVisible:l.value,schema:p,showTitle:!1,formModal:!0,modelValue:i.value,"onUpdate:isDialogVisible":t[2]||(t[2]=h=>l.value=!1),onCancel:t[3]||(t[3]=h=>l.value=!1)},null,8,["isDialogVisible","modelValue"]),r.value?(y(),_("div",Re,[a(w,{color:"secondary",onClick:m},{default:d(()=>[a(T,{start:"",icon:"tabler-key"}),t[7]||(t[7]=V(" Cambiar contraseña "))]),_:1}),a(w,{color:"warning",onClick:u},{default:d(()=>[a(T,{start:"",icon:"tabler-edit"}),t[8]||(t[8]=V(" Editar "))]),_:1})])):K("",!0)]),_:1}),a(P,{value:"item2"},{default:d(()=>[a(Ne)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}}}),Ge={key:1},Le=S({__name:"UsuarioSubagentesV1",props:{data:{}},setup(e){const o=b({principal_id:e.data.id,tipo:{id:4}}),l=[{label:"Nombre",type:"text",model:"nombre",placeholder:"Ingresa el nombre"},{label:"Correo electronico",type:"text",model:"correo",placeholder:"Ingresa el nombre"},{label:"Contraseña",type:"text",model:"password",placeholder:"Ingresa el nombre"},{label:"Tipo de usuario",type:"select",model:"tipo",placeholder:"Selecciona el tipo de usuario",catalogo:"tipos-usuarios"},{label:"Estatus",type:"switch",model:"estatus"}],r=b("SubAgentes"),i=b(!1),s=b(null),c=[{title:"ID",key:"id"},{title:"Nombre",key:"nombre"},{title:"Tipo",key:"tipo.label"},{title:"Estatus",key:"estatus"},{title:"Creación",key:"created_at"}],x={fetch:"/api/usuario/team/get",create:"/api/usuario/team",update:"/api/usuario/team",delete:"/api/usuario/team/delete"},p=n=>{s.value={...n,...n.usuario},i.value=!0},m=k(()=>{var v;return"Subagente: "+(s?(v=s==null?void 0:s.value)==null?void 0:v.nombre:"")}),u=()=>{i.value=!1};return(n,v)=>i.value?(y(),A(je,{key:0,data:s.value,isChild:!0,title:Ie(m),onCancelar:u},null,8,["data","title"])):(y(),_("div",Ge,[E("h1",null,N(r.value),1),a(G,{title:"title",emitEdit:!0,formModal:!0,"show-title":!1,formSchema:l,tableHeaders:c,apiEndpoints:x,onCustomEdit:p,payloadDefault:o.value},null,8,["payloadDefault"])]))}}),Oe=S({__name:"UsuariosAsistentesV1",props:{data:{}},setup(e){const f=e,o=b("Asistentes"),l=b({principal_id:f.data.id,tipo:{id:5}}),r=[{label:"Nombre",type:"text",model:"nombre",placeholder:"Ingresa el nombre"},{label:"Correo electronico",type:"text",model:"correo",placeholder:"Ingresa el nombre"},{label:"Contraseña",type:"text",model:"password",placeholder:"Ingresa el nombre"},{label:"Estatus",type:"switch",model:"estatus"}],i=[{title:"ID",key:"id"},{title:"Nombre",key:"usuario.nombre"},{title:"Tipo",key:"tipo.label"},{title:"Estatus",key:"estatus"},{title:"Creación",key:"created_at"}],s={fetch:"/api/usuario/team/get",create:"/api/usuario/team",update:"/api/usuario/team",delete:"/api/usuario/team/delete"};return(c,x)=>(y(),A(G,{title:o.value,formModal:!0,formSchema:r,payloadDefault:l.value,tableHeaders:i,apiEndpoints:s},null,8,["title","payloadDefault"]))}}),We={class:"d-flex justify-start align-center mb-5"},He={class:"ml-4"},Ye={key:0,class:"d-flex justify-end gap-3 mt-4"},ta=S({__name:"ManagerUsuario",props:{data:{}},emits:["cancelar"],setup(e,{emit:f}){const o=b("item1"),l=b(!1),r=b(!0),i=b({}),s=e,c=f,x=[{label:"Nombre",type:"text",model:"nombre",placeholder:"Ingresa el nombre"},{label:"Correo electronico",type:"text",model:"correo",placeholder:"Ingresa el nombre"},{label:"Contraseña",type:"text",model:"password",placeholder:"Ingresa el nombre"},{label:"Tipo de usuario",type:"select",model:"tipo",placeholder:"Selecciona el tipo de usuario",catalogo:"tipos-usuarios"},{label:"Estatus",type:"switch",model:"estatus"}],p=[{label:"Nombre",type:"text",model:"nombre",placeholder:"Ingresa el nombre",disabled:!0},{label:"Tipo de usuario",type:"text",model:"tipo",placeholder:"Ingresa el nombre",disabled:!0},{label:"Correo electronico",type:"text",model:"correo",placeholder:"Ingresa el nombre",disabled:!0},{label:"Contraseña",type:"text",model:"password",placeholder:"Ingresa el nombre"}],m=()=>{i.value={...s.data,tipo:s.data.tipo.label,password:""},l.value=!0},u=()=>{r.value=!r.value},n=()=>{c("cancelar")};return(v,t)=>(y(),_(D,null,[E("div",We,[a(w,{icon:"tabler-arrow-left",class:"cursor-pointer",variant:"text",color:"secondary",onClick:n}),E("h1",He,N(s.data.nombre),1)]),a(Q,null,{default:d(()=>[a(Z,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=C=>o.value=C)},{default:d(()=>[a(I,null,{default:d(()=>t[5]||(t[5]=[V("Detalles del usario")])),_:1}),a(I,null,{default:d(()=>t[6]||(t[6]=[V("Claves")])),_:1}),a(I,null,{default:d(()=>t[7]||(t[7]=[V("SubAgentes")])),_:1}),a(I,null,{default:d(()=>t[8]||(t[8]=[V("Asistentes")])),_:1})]),_:1},8,["modelValue"]),a(ae,null,{default:d(()=>[a(ee,{modelValue:o.value,"onUpdate:modelValue":t[4]||(t[4]=C=>o.value=C)},{default:d(()=>[a(P,{value:"item1"},{default:d(()=>[a(F,{title:null,isDialogVisible:!1,schema:x,showTitle:!1,isDisabled:r.value,showButtonsAction:!r.value,modelValue:s.data,onCancel:t[1]||(t[1]=C=>r.value=!0)},null,8,["isDisabled","showButtonsAction","modelValue"]),a(F,{title:"Cambiar contraseña",isDialogVisible:l.value,schema:p,showTitle:!1,formModal:!0,modelValue:i.value,"onUpdate:isDialogVisible":t[2]||(t[2]=C=>l.value=!1),onCancel:t[3]||(t[3]=C=>l.value=!1)},null,8,["isDialogVisible","modelValue"]),r.value?(y(),_("div",Ye,[a(w,{color:"secondary",onClick:m},{default:d(()=>[a(T,{start:"",icon:"tabler-key"}),t[9]||(t[9]=V(" Cambiar contraseña "))]),_:1}),a(w,{color:"warning",onClick:u},{default:d(()=>[a(T,{start:"",icon:"tabler-edit"}),t[10]||(t[10]=V(" Editar "))]),_:1})])):K("",!0)]),_:1}),a(P,{value:"item2"},{default:d(()=>[a(Be,{data:s.data},null,8,["data"])]),_:1}),a(P,{value:"item3"},{default:d(()=>[a(Le,{data:s.data},null,8,["data"])]),_:1}),a(P,{value:"item4"},{default:d(()=>[a(Oe,{data:s.data},null,8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64))}});export{ta as _};
