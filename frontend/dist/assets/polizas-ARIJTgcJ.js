import{C as G}from"./VistaUno-C3G2XSjO.js";import{_ as K,c as q,s as Z,a as me}from"./SweetAlets-C2ytclc0.js";import{a7 as ee,a8 as te,b5 as we,ac as re,X as S,ad as xe,aO as ke,a9 as ae,b as r,Y as $,aY as Me,aV as fe,b6 as be,ak as he,ab as ne,am as pe,a_ as De,au as Se,r as v,w as ye,ay as Y,aa as ve,b0 as ze,aM as Te,b7 as We,aL as Ve,aT as $e,W as se,aj as Ae,b8 as Fe,b9 as Ie,d as F,c as f,o as c,m as x,e as d,t as g,v as C,E as je,g as I,f as b,F as W,i as N,a2 as A,n as E}from"./index-BEYR6r14.js";import{_ as oe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as J}from"./VCard-mm81YS6r.js";import{V as Q}from"./VCardText-DFD8YH3h.js";import{V as Ee}from"./VChip-otdAO30t.js";import{V as R}from"./VTooltip-DcyPhaNn.js";import{V as Ne,a as X,b as Oe,c as H}from"./VTabs-DRn_69He.js";import"./VSwitch-BMm_pIP0.js";import"./VTextField-CPzAzZfc.js";import"./VImg-Db1A5QJS.js";import"./forwardRefs-DWGaNmQL.js";import"./VList-BdLefDIT.js";import"./VAvatar-CUK3t8xE.js";import"./VDivider-CPGcJI06.js";import"./VOverlay-bF5JR8ax.js";import"./VMenu-HY4Pdhf6.js";import"./VCheckboxBtn-Ds5GB1MQ.js";import"./VDialog-G37nOe5m.js";const Re=te({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:pe,iconColor:String,lineColor:String,...ne(),...he(),...be(),...fe()},"VTimelineDivider"),Xe=ee()({name:"VTimelineDivider",props:Re(),setup(e,n){let{slots:t}=n;const{sizeClasses:a,sizeStyles:o}=we(e,"v-timeline-divider__dot"),{backgroundColorStyles:s,backgroundColorClasses:l}=re(S(e,"dotColor")),{roundedClasses:i}=xe(e,"v-timeline-divider__dot"),{elevationClasses:m}=ke(e),{backgroundColorClasses:p,backgroundColorStyles:u}=re(S(e,"lineColor"));return ae(()=>r("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[r("div",{class:["v-timeline-divider__before",p.value],style:u.value},null),!e.hideDot&&r("div",{key:"dot",class:["v-timeline-divider__dot",m.value,i.value,a.value],style:o.value},[r("div",{class:["v-timeline-divider__inner-dot",l.value,i.value],style:s.value},[t.default?r(Me,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},t.default):r($,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),r("div",{class:["v-timeline-divider__after",p.value],style:u.value},null)])),{}}}),ge=te({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:pe,iconColor:String,lineInset:[Number,String],...ne(),...ze(),...fe(),...he(),...be(),...ve()},"VTimelineItem"),He=ee()({name:"VTimelineItem",props:ge(),setup(e,n){let{slots:t}=n;const{dimensionStyles:a}=De(e),o=Se(0),s=v();return ye(s,l=>{var i;l&&(o.value=((i=l.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:i.getBoundingClientRect().width)??0)},{flush:"post"}),ae(()=>{var l,i;return r("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":Y(o.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Y(e.lineInset)})`:Y(0)},e.style]},[r("div",{class:"v-timeline-item__body",style:a.value},[(l=t.default)==null?void 0:l.call(t)]),r(Xe,{ref:s,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:t.icon}),e.density!=="compact"&&r("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((i=t.opposite)==null?void 0:i.call(t))])])}),{}}}),Le=te({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...Ie(ge({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...ne(),...Fe(),...ve(),...Ae()},"VTimeline"),Ye=ee()({name:"VTimeline",props:Le(),setup(e,n){let{slots:t}=n;const{themeClasses:a}=Te(e),{densityClasses:o}=We(e),{rtlClasses:s}=Ve();$e({VTimelineDivider:{lineColor:S(e,"lineColor")},VTimelineItem:{density:S(e,"density"),dotColor:S(e,"dotColor"),fillDot:S(e,"fillDot"),hideOpposite:S(e,"hideOpposite"),iconColor:S(e,"iconColor"),lineColor:S(e,"lineColor"),lineInset:S(e,"lineInset"),size:S(e,"size")}});const l=se(()=>{const m=e.side?e.side:e.density!=="default"?"end":null;return m&&`v-timeline--side-${m}`}),i=se(()=>{const m=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return m;case"start":return m[0];case"end":return m[1];default:return null}});return ae(()=>r(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,i.value,{"v-timeline--inset-line":!!e.lineInset},a.value,o.value,l.value,s.value,e.class],style:[{"--v-timeline-line-thickness":Y(e.lineThickness)},e.style]},t)),{}}}),Be={class:"mb-4"},qe={key:0},Je={key:1},Qe={key:2},Ue={key:3},Ze={key:4},Ge=F({__name:"PolizaWidget",props:{data:{}},setup(e){const n=e;return(t,a)=>(c(),f("div",Be,[n.data.compania?(c(),f("p",qe,[a[0]||(a[0]=d("strong",null,"Compañia: ",-1)),g(C(n.data.compania.nombre),1)])):x("",!0),n.data.ramo?(c(),f("p",Je,[a[1]||(a[1]=d("strong",null,"Ramo: ",-1)),g(C(n.data.ramo.label),1)])):x("",!0),n.data.producto?(c(),f("p",Qe,[a[2]||(a[2]=d("strong",null,"Producto: ",-1)),g(C(n.data.producto.nombre),1)])):x("",!0),n.data.cliente?(c(),f("p",Ue,[a[3]||(a[3]=d("strong",null,"Cliente: ",-1)),g(C(n.data.cliente.nombre),1)])):x("",!0),n.data.subAgente?(c(),f("p",Ze,[a[4]||(a[4]=d("strong",null,"Cliente: ",-1)),g(C(n.data.subAgente.nombre),1)])):x("",!0)]))}}),Ke=oe(Ge,[["__scopeId","data-v-3f1fac96"]]),Ce=F({__name:"PolizaWizardClientes",props:{titulo:{default:"Clientes"},subtitulos:{default:null},payloadDefault:{default:null},exportSubmit:{default:!1}},emits:["actionSeleccionar","cancelar"],setup(e,{emit:n}){const t=e,a=n,o=[{label:"Nombre",type:"text",model:"nombre"},{label:"RFC",type:"text",model:"rfc"},{label:"Fecha de nacimiento",type:"date",model:"fechaNacimiento"},{label:"Direccion",type:"text",model:"direccion"},{label:"Colonia",type:"text",model:"colonia"},{label:"Codigo Postal",type:"text",model:"codigoPostal"},{label:"Estado",type:"select",model:"estado",catalogo:"estados"},{label:"Ciudad",type:"text",model:"ciudad"},{label:"Correo electronico",type:"text",model:"correo"},{label:"Telefono",type:"text",model:"telefono"},{label:"Celular",type:"text",model:"celular"},{label:"Oficina",type:"text",model:"oficina"},{label:"Casa",type:"text",model:"casa"}],s=v(!1),l=v(null),i=v({actions:["Seleccionar"]}),m=[{title:"ID",key:"id"},{title:"Nombre",key:"nombre"},{title:"RFC",key:"rfc"},{title:"Telefono",key:"telefono"},{title:"Correo",key:"correo"},{title:"Estatus",key:"estatus"},{title:"Creación",key:"created_at"}],p={fetch:"/api/clientes/get",create:"/api/clientes/create",update:"/api/clientes/update",delete:"/api/clientes/delete"},u=h=>{l.value={...h},s.value=!0},_=h=>{let{action:P,item:D}=h;switch(P){case"Seleccionar":a("actionSeleccionar",D);break;default:console.log("Acción no reconocida")}},y=h=>{a("cancelar")};return(h,P)=>(c(),f("div",null,[r(G,{title:t.titulo,"show-title":!1,customAction:!0,subtitulos:t.subtitulos,exportSubmit:t.exportSubmit,formSchema:o,tableHeaders:m,apiEndpoints:p,configTable:i.value,onCustomAction:_,onCustomEdit:u,onExportSubmit:y},null,8,["title","subtitulos","exportSubmit","configTable"])]))}}),et={key:0,class:"w-full"},tt={key:0,class:"mb-4"},at={class:"cardsWrapper"},nt=["onClick"],ot={key:1,class:"mb-4"},lt={class:"cardsWrapper"},it=["onClick"],rt={key:2,class:"mb-4"},st={class:"cardsWrapper"},dt=["onClick"],ut={key:3,class:"mb-4"},ct={key:4,class:"mb-4"},mt={class:"cardsWrapper"},ft=["onClick"],bt={class:"d-flex justify-start align-center"},ht={key:1},pt=F({__name:"PolizasWizard",emits:["cancel"],setup(e,{emit:n}){const t=n,a=v(0),o=v({}),s=v(null);v(null);const l=v([]),i=v([]);v([{id:1,nombre:"Agente 1",estatus:!0,clave:131},{id:2,nombre:"Agente 2",estatus:!0,clave:151},{id:3,nombre:"Agente 3",estatus:!0,clave:1972},{id:4,nombre:"Agente 4",estatus:!0,clave:132}]);const m=[{label:"Numero de poliza",type:"text",model:"numeroPoliza"},{label:"Numero de cliente",type:"text",model:"numeroCliente"},{label:"Compañia",type:"text",model:"compania",disabled:!0},{label:"Ramo",type:"text",model:"ramo",disabled:!0},{label:"Producto",type:"text",model:"producto",disabled:!0},{label:"Cliente",type:"text",model:"cliente",disabled:!0},{label:"Subagente",type:"text",model:"subagente",disabled:!0},{label:"Agente",type:"text",model:"agente",disabled:!0},{label:"Forma de pago",type:"select",model:"formaPago",catalogo:"formas-pagos"},{ref:"vigencia",type:"rangeDate",minModel:"inicioVigencia",minLabel:"Inicio de vigencia",maxModel:"finVigencia",maxLabel:"Fin de vigencia"},{label:"Antiguedad",type:"text",model:"antiguedad"},{label:"Tipo de vencimiento",type:"select",model:"tipoVencimiento",catalogo:"tipo-vencimiento"},{label:"Metodo de pago",type:"select",model:"metodoPago",catalogo:"metodos-pago"},{label:"Prima neta anual",type:"number",model:"primaNeta",config:{prefix:"$ "}},{label:"Finaciamiento",type:"text",model:"financiamiento"},{label:"PCT COMI (%)",type:"text",model:"comisionAgente"},{label:"Prima total",type:"text",model:"primaTotal"},{label:"Moneda",type:"select",model:"moneda",catalogo:"moneda"},{label:"Importe pago inicial",type:"text",model:"pagoInicial"},{label:"Importe pago subsecuente",type:"text",model:"pagoSubsecuente"},{label:"Estatus",type:"select",model:"estatus",catalogo:"estatus-polizas"}];async function p(){try{let w="/api/polizas/wizard";if(w!=""){const V=(await q({url:w,method:"POST",data:{usuario_id:5}})).data.data;s.value=V.companias}}catch(w){console.error("Error al obtener los datos:",w)}}function u(w){a.value=1,l.value=w.ramos,o.value.compania=w}function _(w){a.value=2,i.value=w.productos,o.value.ramo=w}function y(w){a.value=3,o.value.producto=w}function h(w){a.value=4,o.value.cliente=w}function P(w){o.value.subAgente=w,o.value={compania:o.value.compania.nombreCorto,compania_id:o.value.compania.id,ramo:o.value.ramo.label,ramo_id:o.value.ramo.id,producto:o.value.producto.nombre,producto_id:o.value.producto.id,cliente:o.value.cliente.nombre,cliente_id:o.value.cliente.id,subagente:o.value.subAgente.nombre,subagente_id:o.value.subAgente.id},a.value=5}function D(){t("cancel")}async function Pe(){let w="/api/polizas/create",M={...o.value},k=await q({url:w,method:"POST",data:M});k.data.result?(Z({title:"Guardado",message:k.data.message}),t("cancel")):me({title:"Error",message:k.data.message})}return je(()=>{p()}),(w,M)=>(c(),I(J,{title:"Detalles de la póliza",class:"mb-4"},{default:b(()=>[r(Q,null,{default:b(()=>[a.value!=5?(c(),f("div",et,[r(Ke,{data:o.value},null,8,["data"]),a.value==0?(c(),f("div",tt,[M[0]||(M[0]=d("h1",{class:"w-full text-center mb-5"},"Selecciona una compañia:",-1)),d("div",at,[(c(!0),f(W,null,N(s.value,(k,V)=>(c(),f("div",{class:"cardItem",key:V,onClick:U=>u(k)},[d("span",null,C(k.nombreCorto),1)],8,nt))),128))])])):x("",!0),a.value==1?(c(),f("div",ot,[M[1]||(M[1]=d("h1",{class:"w-full text-center mb-5"},"Selecciona un ramo:",-1)),d("div",lt,[(c(!0),f(W,null,N(l.value,(k,V)=>(c(),f("div",{class:"cardItem",key:V,onClick:U=>_(k)},[d("span",null,C(k.label),1)],8,it))),128))])])):x("",!0),a.value==2?(c(),f("div",rt,[M[2]||(M[2]=d("h1",{class:"w-full text-center mb-5"},"Selecciona un producto:",-1)),d("div",st,[(c(!0),f(W,null,N(i.value,(k,V)=>(c(),f("div",{class:"cardItem",key:V,onClick:U=>y(k)},[d("span",null,C(k.nombre),1)],8,dt))),128))])])):x("",!0),a.value==3?(c(),f("div",ut,[M[3]||(M[3]=d("h1",{class:"w-full text-center mb-5"},"Selecciona un cliente:",-1)),r(Ce,{onActionSeleccionar:h})])):x("",!0),a.value==4?(c(),f("div",ct,[M[4]||(M[4]=d("h1",{class:"w-full text-center mb-5"},"Selecciona un subagente:",-1)),d("div",mt,[(c(!0),f(W,null,N(i.value,(k,V)=>(c(),f("div",{class:"cardItem",key:V,onClick:U=>P(k)},[d("span",null,C(k.nombre),1)],8,ft))),128))])])):x("",!0),d("div",bt,[r(A,{color:"secondary",variant:"outlined",onClick:D},{default:b(()=>[r($,{start:"",icon:"tabler-alert-circle"}),M[5]||(M[5]=g(" Cancelar "))]),_:1})])])):x("",!0),a.value==5?(c(),f("div",ht,[r(K,{title:null,isDialogVisible:!1,schema:m,modelValue:o.value,onSubmit:Pe,onCancel:D},null,8,["modelValue"])])):x("",!0)]),_:1})]),_:1}))}}),yt=oe(pt,[["__scopeId","data-v-48489c8c"]]),vt={key:0},gt={class:"divWrapper"},Ct={key:1},_t={key:2},Pt={class:"d-flex justify-start align-center mb-5"},wt=F({__name:"PolizaVincularAsegurados",props:{data:{default:{}}},emits:["cancelar"],setup(e,{emit:n}){const t=e,a=v(null),o=n,s=[{label:"Nombre",type:"text",model:"nombre"},{label:"RFC",type:"text",model:"rfc"},{label:"Fecha de nacimiento",type:"date",model:"fechaNacimiento"},{label:"Direccion",type:"text",model:"direccion"},{label:"Colonia",type:"text",model:"colonia"},{label:"Codigo Postal",type:"text",model:"codigoPostal"},{label:"Estado",type:"select",model:"estado",catalogo:"estados"},{label:"Ciudad",type:"text",model:"ciudad"},{label:"Correo electronico",type:"text",model:"correo"},{label:"Telefono",type:"text",model:"telefono"},{label:"Celular",type:"text",model:"celular"},{label:"Oficina",type:"text",model:"oficina"},{label:"Casa",type:"text",model:"casa"}];function l(){a.value==null?o("cancelar"):a.value=null}async function i(p){let u="/api/polizas/asegurados",_={poliza_id:t.data.id,...p,cliente_id:p.id};delete _.id,(await q({url:u,method:"POST",data:_})).data.result?(Z({title:"Eliminado",message:"El elemento ha sido eliminado correctamente."}),m()):Z({title:"Error",message:"No se pudo eliminar el elemento."})}function m(){a.value=null,o("cancelar")}return(p,u)=>(c(),f(W,null,[a.value==null?(c(),f("div",vt,[d("div",gt,[d("div",{class:"cardWrapper",onClick:u[0]||(u[0]=_=>a.value=!0)},u[2]||(u[2]=[d("h1",{class:"text-h4"},"Asegurar un cliente",-1),d("p",{class:"text-body-2"}," Se vinculara un cliente como asegurado, previamente registrado ",-1)])),d("div",{class:"cardWrapper",onClick:u[1]||(u[1]=_=>a.value=!1)},u[3]||(u[3]=[d("h1",{class:"text-h4"},"Registrar un nuevo asegurado",-1),d("p",{class:"text-body-2"},"Registrara un asegurado nuevo",-1)]))])])):x("",!0),a.value==!1?(c(),f("div",Ct,[r(K,{title:"Asegurado",schema:s,modelValue:{},formModal:!1,isDialogVisible:!1,onSubmit:i})])):x("",!0),a.value==!0?(c(),f("div",_t,[r(Ce,{titulo:"Asegurados",payloadDefault:{poliza_id:t.data.id},exportSubmit:!0,subtitulos:"Selecciona o crea un nuevo cliente para vincularlo como asegurado a la poliza",onCancelar:l,onActionSeleccionar:i},null,8,["payloadDefault"])])):x("",!0),d("div",Pt,[r(A,{color:"secondary",variant:"outlined",onClick:l},{default:b(()=>[r($,{start:"",icon:"tabler-alert-circle"}),u[4]||(u[4]=g(" Cancelar "))]),_:1})])],64))}}),xt=oe(wt,[["__scopeId","data-v-61fd2502"]]),kt=F({__name:"PolizaAsegurados",props:{data:{default:{}}},emits:["actionSeleccionar"],setup(e,{emit:n}){const t=e,a=[{label:"Nombre",type:"text",model:"nombre"},{label:"RFC",type:"text",model:"rfc"},{label:"Fecha de nacimiento",type:"date",model:"fechaNacimiento"},{label:"Direccion",type:"text",model:"direccion"},{label:"Colonia",type:"text",model:"colonia"},{label:"Codigo Postal",type:"text",model:"codigoPostal"},{label:"Estado",type:"select",model:"estado",catalogo:"estados"},{label:"Ciudad",type:"text",model:"ciudad"},{label:"Correo electronico",type:"text",model:"correo"},{label:"Telefono",type:"text",model:"telefono"},{label:"Celular",type:"text",model:"celular"},{label:"Oficina",type:"text",model:"oficina"},{label:"Casa",type:"text",model:"casa"}],o=v(!1);v(null);const s=v({actions:["Editar","Eliminar"]}),l=[{title:"ID",key:"id"},{title:"Nombre",key:"nombre"},{title:"RFC",key:"rfc"},{title:"Telefono",key:"telefono"},{title:"Correo",key:"correo"},{title:"Estatus",key:"estatus"},{title:"Creación",key:"created_at"}],i={fetch:"/api/polizas/asegurados/get",create:"/api/polizas/asegurados",update:"/api/polizas/asegurados",delete:"/api/polizas/asegurados/delete"},m=p=>{o.value=!0,console.log("actionCreate",p)};return(p,u)=>(c(),f("div",null,[o.value?(c(),I(xt,{key:0,data:t.data,onCancelar:u[0]||(u[0]=_=>o.value=!1)},null,8,["data"])):(c(),I(G,{key:1,title:"Asegurados","show-title":!1,emitNew:!0,formSchema:a,tableHeaders:l,apiEndpoints:i,payloadDefault:{poliza_id:t.data.id},configTable:s.value,onCustomCreate:m},null,8,["payloadDefault","configTable"]))]))}}),L=43200,de=1440,ue=Symbol.for("constructDateFrom");function le(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&ue in e?e[ue](n):e instanceof Date?new e.constructor(n):new Date(n)}function j(e,n){return le(e,e)}let Mt={};function Dt(){return Mt}function ce(e){const n=j(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function ie(e,...n){const t=le.bind(null,e||n.find(a=>typeof a=="object"));return n.map(t)}function B(e,n){const t=+j(e)-+j(n);return t<0?-1:t>0?1:t}function St(e){return le(e,Date.now())}function zt(e,n,t){const[a,o]=ie(t==null?void 0:t.in,e,n),s=a.getFullYear()-o.getFullYear(),l=a.getMonth()-o.getMonth();return s*12+l}function Tt(e){return n=>{const a=(e?Math[e]:Math.trunc)(n);return a===0?0:a}}function Wt(e,n){return+j(e)-+j(n)}function Vt(e,n){const t=j(e);return t.setHours(23,59,59,999),t}function $t(e,n){const t=j(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function At(e,n){const t=j(e);return+Vt(t)==+$t(t)}function Ft(e,n,t){const[a,o,s]=ie(t==null?void 0:t.in,e,e,n),l=B(o,s),i=Math.abs(zt(o,s));if(i<1)return 0;o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-l*i);let m=B(o,s)===-l;At(a)&&i===1&&B(a,s)===1&&(m=!1);const p=l*(i-+m);return p===0?0:p}function It(e,n,t){const a=Wt(e,n)/1e3;return Tt(t==null?void 0:t.roundingMethod)(a)}const jt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Et=(e,n,t)=>{let a;const o=jt[e];return typeof o=="string"?a=o:n===1?a=o.one:a=o.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function O(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const Nt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ot={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Rt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xt={date:O({formats:Nt,defaultWidth:"full"}),time:O({formats:Ot,defaultWidth:"full"}),dateTime:O({formats:Rt,defaultWidth:"full"})},Ht={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Lt=(e,n,t,a)=>Ht[e];function z(e){return(n,t)=>{const a=t!=null&&t.context?String(t.context):"standalone";let o;if(a==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,i=t!=null&&t.width?String(t.width):l;o=e.formattingValues[i]||e.formattingValues[l]}else{const l=e.defaultWidth,i=t!=null&&t.width?String(t.width):e.defaultWidth;o=e.values[i]||e.values[l]}const s=e.argumentCallback?e.argumentCallback(n):n;return o[s]}}const Yt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Bt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},qt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Jt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ut={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zt=(e,n)=>{const t=Number(e),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Gt={ordinalNumber:Zt,era:z({values:Yt,defaultWidth:"wide"}),quarter:z({values:Bt,defaultWidth:"wide",argumentCallback:e=>e-1}),month:z({values:qt,defaultWidth:"wide"}),day:z({values:Jt,defaultWidth:"wide"}),dayPeriod:z({values:Qt,defaultWidth:"wide",formattingValues:Ut,defaultFormattingWidth:"wide"})};function T(e){return(n,t={})=>{const a=t.width,o=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=n.match(o);if(!s)return null;const l=s[0],i=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(i)?ea(i,_=>_.test(l)):Kt(i,_=>_.test(l));let p;p=e.valueCallback?e.valueCallback(m):m,p=t.valueCallback?t.valueCallback(p):p;const u=n.slice(l.length);return{value:p,rest:u}}}function Kt(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function ea(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function _e(e){return(n,t={})=>{const a=n.match(e.matchPattern);if(!a)return null;const o=a[0],s=n.match(e.parsePattern);if(!s)return null;let l=e.valueCallback?e.valueCallback(s[0]):s[0];l=t.valueCallback?t.valueCallback(l):l;const i=n.slice(o.length);return{value:l,rest:i}}}const ta=/^(\d+)(th|st|nd|rd)?/i,aa=/\d+/i,na={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},oa={any:[/^b/i,/^(a|c)/i]},la={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ia={any:[/1/i,/2/i,/3/i,/4/i]},ra={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sa={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},da={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ua={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ca={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ma={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fa={ordinalNumber:_e({matchPattern:ta,parsePattern:aa,valueCallback:e=>parseInt(e,10)}),era:T({matchPatterns:na,defaultMatchWidth:"wide",parsePatterns:oa,defaultParseWidth:"any"}),quarter:T({matchPatterns:la,defaultMatchWidth:"wide",parsePatterns:ia,defaultParseWidth:"any",valueCallback:e=>e+1}),month:T({matchPatterns:ra,defaultMatchWidth:"wide",parsePatterns:sa,defaultParseWidth:"any"}),day:T({matchPatterns:da,defaultMatchWidth:"wide",parsePatterns:ua,defaultParseWidth:"any"}),dayPeriod:T({matchPatterns:ca,defaultMatchWidth:"any",parsePatterns:ma,defaultParseWidth:"any"})},ba={code:"en-US",formatDistance:Et,formatLong:Xt,formatRelative:Lt,localize:Gt,match:fa,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ha(e,n,t){const a=Dt(),o=(t==null?void 0:t.locale)??a.locale??ba,s=2520,l=B(e,n);if(isNaN(l))throw new RangeError("Invalid time value");const i=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:l}),[m,p]=ie(t==null?void 0:t.in,...l>0?[n,e]:[e,n]),u=It(p,m),_=(ce(p)-ce(m))/1e3,y=Math.round((u-_)/60);let h;if(y<2)return t!=null&&t.includeSeconds?u<5?o.formatDistance("lessThanXSeconds",5,i):u<10?o.formatDistance("lessThanXSeconds",10,i):u<20?o.formatDistance("lessThanXSeconds",20,i):u<40?o.formatDistance("halfAMinute",0,i):u<60?o.formatDistance("lessThanXMinutes",1,i):o.formatDistance("xMinutes",1,i):y===0?o.formatDistance("lessThanXMinutes",1,i):o.formatDistance("xMinutes",y,i);if(y<45)return o.formatDistance("xMinutes",y,i);if(y<90)return o.formatDistance("aboutXHours",1,i);if(y<de){const P=Math.round(y/60);return o.formatDistance("aboutXHours",P,i)}else{if(y<s)return o.formatDistance("xDays",1,i);if(y<L){const P=Math.round(y/de);return o.formatDistance("xDays",P,i)}else if(y<L*2)return h=Math.round(y/L),o.formatDistance("aboutXMonths",h,i)}if(h=Ft(p,m),h<12){const P=Math.round(y/L);return o.formatDistance("xMonths",P,i)}else{const P=h%12,D=Math.trunc(h/12);return P<3?o.formatDistance("aboutXYears",D,i):P<9?o.formatDistance("overXYears",D,i):o.formatDistance("almostXYears",D+1,i)}}function pa(e,n){return ha(e,St(e),n)}const ya={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},va=(e,n,t)=>{let a;const o=ya[e];return typeof o=="string"?a=o:n===1?a=o.one:a=o.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"en "+a:"hace "+a:a},ga={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Ca={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},_a={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Pa={date:O({formats:ga,defaultWidth:"full"}),time:O({formats:Ca,defaultWidth:"full"}),dateTime:O({formats:_a,defaultWidth:"full"})},wa={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},xa={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},ka=(e,n,t,a)=>n.getHours()!==1?xa[e]:wa[e],Ma={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},Da={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Sa={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},za={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},Ta={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},Wa={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Va=(e,n)=>Number(e)+"º",$a={ordinalNumber:Va,era:z({values:Ma,defaultWidth:"wide"}),quarter:z({values:Da,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:z({values:Sa,defaultWidth:"wide"}),day:z({values:za,defaultWidth:"wide"}),dayPeriod:z({values:Ta,defaultWidth:"wide",formattingValues:Wa,defaultFormattingWidth:"wide"})},Aa=/^(\d+)(º)?/i,Fa=/\d+/i,Ia={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},ja={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},Ea={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Na={any:[/1/i,/2/i,/3/i,/4/i]},Oa={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Ra={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Xa={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},Ha={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},La={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},Ya={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Ba={ordinalNumber:_e({matchPattern:Aa,parsePattern:Fa,valueCallback:function(e){return parseInt(e,10)}}),era:T({matchPatterns:Ia,defaultMatchWidth:"wide",parsePatterns:ja,defaultParseWidth:"any"}),quarter:T({matchPatterns:Ea,defaultMatchWidth:"wide",parsePatterns:Na,defaultParseWidth:"any",valueCallback:e=>e+1}),month:T({matchPatterns:Oa,defaultMatchWidth:"wide",parsePatterns:Ra,defaultParseWidth:"any"}),day:T({matchPatterns:Xa,defaultMatchWidth:"wide",parsePatterns:Ha,defaultParseWidth:"any"}),dayPeriod:T({matchPatterns:La,defaultMatchWidth:"any",parsePatterns:Ya,defaultParseWidth:"any"})},qa={code:"es",formatDistance:va,formatLong:Pa,formatRelative:ka,localize:$a,match:Ba,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Ja(e){const n=new Date(e);return pa(n,{addSuffix:!0,locale:qa})}const Qa={class:"d-flex justify-space-between align-center gap-2 flex-wrap mb-2"},Ua={class:"app-timeline-title"},Za={class:"app-timeline-meta"},Ga=F({__name:"PolizaHistorial",props:{data:{}},setup(e){const n=e;return(t,a)=>(c(),I(J,{title:"Historial"},{default:b(()=>[r(Q,null,{default:b(()=>[r(Ye,{side:"end",align:"start","line-inset":"8","truncate-line":"start",density:"compact"},{default:b(()=>[(c(!0),f(W,null,N(n.data,o=>(c(),I(He,{"dot-color":"primary",size:"x-small"},{default:b(()=>[d("div",Qa,[d("span",Ua,C(o.accion),1),d("span",Za,C(E(Ja)(o.created_at)),1)])]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}))}}),Ka={class:"divIndicadores"},en={class:"divWrapper"},tn={class:"divContainerWrapper"},an={class:"d-flex justify-between align-center gap-5"},nn={class:"d-flex justify-between align-center gap-5 text-black mt-2"},on={class:"divWrapperActions"},ln=F({__name:"PolizaRecibos",props:{recibos:{}},setup(e){const n=e,t=(o,s="== ",l=!0)=>{if(s=="== "){const i=n.recibos.filter(m=>m.estatus==o);return l?i.length:i}else{const i=n.recibos.filter(m=>m.estatus!=o);return l?i.length:i}},a=o=>{switch(o.estatus){case"Pendiente":return"warning";case"Pagado":return"success";case"Cancelado":return"error";default:return"secondary"}};return(o,s)=>(c(),f(W,null,[d("div",Ka,[d("h2",null,[s[0]||(s[0]=d("strong",null,"Total de recibos:",-1)),g(" "+C(n.recibos.length),1)]),d("h2",null,[s[1]||(s[1]=d("strong",null,"Recibos pendientes:",-1)),g(" "+C(t("Pendiente")),1)]),d("h2",null,[s[2]||(s[2]=d("strong",null,"Recibos pagados:",-1)),g(" "+C(t("Pagado")),1)])]),d("div",en,[(c(!0),f(W,null,N(n.recibos,(l,i)=>(c(),I(J,{key:l.id,class:"w-full",color:a(l),variant:"tonal"},{default:b(()=>[r(Q,null,{default:b(()=>[d("div",tn,[d("div",null,[d("div",an,[d("h3",null,"Recibo: "+C(l.numeroRecibo),1),r(Ee,{color:"secondary"},{default:b(()=>[g(C(l.estatus),1)]),_:2},1024)]),d("div",null,[d("div",nn,[d("span",null,[s[3]||(s[3]=d("strong",null,"Vencimiento:",-1)),g(" "+C(l.vencimiento),1)]),d("span",null,[s[4]||(s[4]=d("strong",null,"Importe:",-1)),g(" $"+C(parseFloat(l.importe).toFixed(2)),1)])])])]),d("div",on,[r(A,{disabled:l.estatus!="Pendiente",size:"small",color:"success",icon:"tabler-cash",rounded:""},{default:b(()=>[r($,{icon:"tabler-cash"}),r(R,{activator:"parent",location:"top"},{default:b(()=>s[5]||(s[5]=[g("Registrar pago")])),_:1})]),_:2},1032,["disabled"]),r(A,{disabled:l.estatus!="Pagado",size:"small",color:"error",icon:"tabler-cancel",rounded:""},{default:b(()=>[r($,{icon:"tabler-cancel"}),r(R,{activator:"parent",location:"top"},{default:b(()=>s[6]||(s[6]=[g("Cancelar Pago")])),_:1})]),_:2},1032,["disabled"]),r(A,{disabled:l.estatus!="Pagado",size:"small",color:"primary",icon:"tabler-eye",rounded:""},{default:b(()=>[r($,{icon:"tabler-eye"}),r(R,{activator:"parent",location:"top"},{default:b(()=>s[7]||(s[7]=[g("Ver evidencia")])),_:1})]),_:2},1032,["disabled"]),r(A,{disabled:l.estatus=="Pagado",size:"small",color:"secondary",icon:"tabler-mail",rounded:""},{default:b(()=>[r($,{icon:"tabler-mail"}),r(R,{activator:"parent",location:"top"},{default:b(()=>s[8]||(s[8]=[g("Mandar correo")])),_:1})]),_:2},1032,["disabled"]),r(A,{disabled:l.estatus=="Pagado",size:"small",color:"secondary",icon:"tabler-brand-whatsapp",rounded:""},{default:b(()=>[r($,{icon:"tabler-brand-whatsapp"}),r(R,{activator:"parent",location:"top"},{default:b(()=>s[9]||(s[9]=[g("Mandar Whatsapp")])),_:1})]),_:2},1032,["disabled"])])])]),_:2},1024)]),_:2},1032,["color"]))),128))])],64))}}),rn={class:"d-flex justify-start align-center mb-5"},sn={class:"ml-4"},dn={key:0,class:"d-flex justify-end gap-3 mt-4"},un=F({__name:"ManagerPolizas",props:{data:{}},emits:["cancelar"],setup(e,{emit:n}){const t=v("item1");v(!1);const a=v(!0);v({});const o=v({}),s=v([]),l=e,i=n,m=[{label:"Numero de poliza",type:"label",model:"numeroPoliza"},{label:"Numero de cliente",type:"label",model:"numeroCliente"},{label:"Compañia",type:"label",model:"compania.nombre"},{label:"Ramo",type:"label",model:"ramo.label"},{label:"Producto",type:"label",model:"producto.nombre"},{label:"Cliente",type:"label",model:"cliente.nombre"},{label:"Subagente",type:"label",model:"subagente"},{label:"Agente",type:"label",model:"agente"},{label:"Forma de pago",type:"label",model:"formaPago.label"},{ref:"vigencia",type:"label",minModel:"inicioVigencia",minLabel:"Inicio de vigencia",maxModel:"finVigencia",maxLabel:"Fin de vigencia"},{label:"Antiguedad",type:"label",model:"antiguedad"},{label:"Tipo de vencimiento",type:"label",model:"tipoVencimiento.label"},{label:"Metodo de pago",type:"label",model:"metodoPago.label"},{label:"Prima neta anual",type:"label",model:"primaNeta",config:{prefix:"$ "}},{label:"Finaciamiento",type:"label",model:"financiamiento"},{label:"PCT COMI (%)",type:"label",model:"comision"},{label:"Prima total",type:"label",model:"primaTotal"},{label:"Moneda",type:"label",model:"moneda.label"},{label:"Importe pago inicial",type:"label",model:"pagoInicial"},{label:"Importe pago subsecuente",type:"label",model:"pagoSubsecuente"},{label:"Estatus",type:"label",model:"estatus"}];async function p(){let y="/api/polizas/historial",h={poliza_id:l.data.id},P=await q({url:y,method:"POST",data:h});P.data.result?s.value=P.data.data:me({title:"Error",message:P.data.message})}const u=()=>{a.value=!a.value},_=()=>{i("cancelar")};return ye(()=>t.value,y=>{console.log("currentTab",y),t.value=="2"&&(o.value=[{id:25,poliza_id:29,numeroRecibo:"REC-29-0001",vencimiento:"2025-01-23",importe:"6650.61",estatus:"Pendiente",fechaPago:null,fechaCancelado:null,evidencia:null,created_at:"2025-05-02T17:36:29.000000Z",updated_at:"2025-05-02T17:36:29.000000Z"},{id:26,poliza_id:29,numeroRecibo:"REC-29-0002",vencimiento:"2025-07-23",importe:"5954.63",estatus:"Pagado",fechaPago:null,fechaCancelado:null,evidencia:null,created_at:"2025-05-02T17:36:29.000000Z",updated_at:"2025-05-02T17:36:29.000000Z"}]),t.value=="3"&&p()},{immediate:!0}),(y,h)=>{const P=K;return c(),f(W,null,[d("div",rn,[r(A,{icon:"tabler-arrow-left",class:"cursor-pointer",variant:"text",color:"secondary",onClick:_}),d("h1",sn,C(l.data.numeroPoliza)+" - "+C(l.data.ramo.label)+" - "+C(l.data.compania.nombreCorto),1)]),r(J,null,{default:b(()=>[r(Ne,{modelValue:t.value,"onUpdate:modelValue":h[0]||(h[0]=D=>t.value=D)},{default:b(()=>[r(X,null,{default:b(()=>h[3]||(h[3]=[g("Detalles")])),_:1}),r(X,null,{default:b(()=>h[4]||(h[4]=[g("Asegurados")])),_:1}),r(X,null,{default:b(()=>h[5]||(h[5]=[g("Pagos")])),_:1}),r(X,null,{default:b(()=>h[6]||(h[6]=[g("Historial")])),_:1})]),_:1},8,["modelValue"]),r(Q,null,{default:b(()=>[r(Oe,{modelValue:t.value,"onUpdate:modelValue":h[2]||(h[2]=D=>t.value=D)},{default:b(()=>[r(H,{value:"item1"},{default:b(()=>[r(P,{title:null,isDialogVisible:!1,schema:m,showTitle:!1,isDisabled:a.value,showButtonsAction:!a.value,modelValue:l.data,onCancel:h[1]||(h[1]=D=>a.value=!0)},null,8,["isDisabled","showButtonsAction","modelValue"]),a.value?(c(),f("div",dn,[r(A,{color:"warning",onClick:u},{default:b(()=>[r($,{start:"",icon:"tabler-edit"}),h[7]||(h[7]=g(" Editar "))]),_:1})])):x("",!0),d("pre",null,C(l.data),1)]),_:1}),r(H,{value:"item2"},{default:b(()=>[r(kt,{data:l.data},null,8,["data"])]),_:1}),r(H,{value:"item3"},{default:b(()=>[r(ln,{recibos:o.value},null,8,["recibos"])]),_:1}),r(H,{value:"item4"},{default:b(()=>[r(Ga,{data:s.value},null,8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}}}),cn={key:2},Vn=F({__name:"polizas",setup(e){const n=[{label:"Nombre",type:"text",model:"nombre",placeholder:"Ingresa el nombre"},{label:"Correo electronico",type:"text",model:"correo",placeholder:"Ingresa el nombre"},{label:"Contraseña",type:"text",model:"password",placeholder:"Ingresa el nombre"},{label:"Tipo de usuario",type:"select",model:"tipo",placeholder:"Selecciona el tipo de usuario",catalogo:"tipos-usuarios"},{label:"Estatus",type:"switch",model:"estatus"}],t=v(!1),a=v(null),o=v(!1),s=[{title:"ID",key:"id"},{title:"No. Poliza",key:"numeroPoliza"},{title:"No. Cliente",key:"numeroCliente"},{title:"Cliente",key:"cliente.nombre"},{title:"Compañia",key:"compania.nombreCorto"},{title:"Ramo",key:"ramo.label"},{title:"Producto",key:"producto.nombre"},{title:"Estatus",key:"estatus"},{title:"Creación",key:"created_at"}],l={fetch:"/api/polizas/get",create:"/api/polizas/create",update:"/api/polizas/update",delete:"/api/polizas/delete"},i=u=>{a.value={...u,metodoPago:u.metodo_pago,formaPago:u.forma_pago,tipoVencimiento:u.tipo_vencimiento,cliente:{...u.cliente,label:u.cliente.nombre},subAgente:u.sub_agente},console.log("dataRow",u),t.value=!0},m=()=>{o.value=!1,t.value=!1},p=()=>{o.value=!0};return(u,_)=>(c(),f(W,null,[E(t)?(c(),I(un,{key:0,data:E(a),onCancelar:m},null,8,["data"])):x("",!0),E(o)?(c(),I(yt,{key:1,onCancel:m})):x("",!0),!E(o)&&!E(t)?(c(),f("div",cn,[_[0]||(_[0]=d("h1",null,"Polizas",-1)),r(G,{title:"Polizas",formModal:!0,"show-title":!1,emitEdit:!0,emitNew:!0,formSchema:n,tableHeaders:s,filtroAgrupador:"compania.nombreCorto",filtroAgrupadorInicial:"Todos",apiEndpoints:l,onCustomEdit:i,onCustomCreate:p})])):x("",!0)],64))}});export{Vn as default};
